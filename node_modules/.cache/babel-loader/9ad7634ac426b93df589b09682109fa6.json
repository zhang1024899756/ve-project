{"ast":null,"code":"import \"antd/es/layout/style/css\";\nimport _Layout from \"antd/es/layout\";\nimport \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/col/style/css\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/spin/style/css\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/list/style/css\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/row/style/css\";\nimport _Row from \"antd/es/row\";\nvar _jsxFileName = \"/Users/zhangxinyu/Desktop/ve_project/src/components/work-station.js\";\nimport React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport { Redirect } from 'react-router-dom';\nimport JtopoCanvas from './jtopo-canvas';\nimport URL from '../serverAPI.config';\nexport default class ExperContent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      experimentContent: null,\n      isShowModal: false,\n      componentData: [],\n      jtopoNode: null,\n      scrolLoading: true,\n      redirectToIndex: false,\n      redirectToExper: false\n    };\n  }\n\n  _fetchComponent(callback) {\n    const myFetchOptions = {\n      method: 'GET',\n      mode: 'cors'\n    };\n    fetch(URL.componentList, myFetchOptions).then(res => res.json().then(json => {\n      console.log(json);\n      callback(json);\n    }));\n  }\n\n  _addNode(item) {\n    this.setState({\n      jtopoNode: item\n    });\n  }\n\n  _showModal() {\n    this.setState({\n      isShowModal: true\n    });\n  }\n\n  _exitBtn() {\n    this.setState({\n      redirectToExper: true\n    });\n  }\n\n  _finishBtn() {\n    this.setState({\n      redirectToIndex: true\n    });\n  }\n\n  _handleCancel() {\n    this.setState({\n      isShowModal: false\n    });\n  }\n\n  componentWillMount() {\n    if (this.props.location.state) {\n      this.setState({\n        experimentContent: this.props.location.state\n      });\n    }\n\n    this._fetchComponent(json => {\n      this.setState({\n        componentData: json,\n        scrolLoading: false\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          redirectToIndex = _this$state.redirectToIndex,\n          redirectToExper = _this$state.redirectToExper,\n          experimentContent = _this$state.experimentContent,\n          isShowModal = _this$state.isShowModal;\n    const _style = {\n      spin: {\n        position: 'absolute',\n        bottom: '-30px',\n        left: '42%'\n      },\n      header: {\n        height: '140px',\n        background: '#001529',\n        marginBottom: '10px'\n      },\n      title: {\n        color: '#fff',\n        textAlign: 'center',\n        marginTop: '30px'\n      },\n      list: {\n        hideWrap: {\n          width: '200px',\n          height: '480px',\n          margin: '10px',\n          overflow: 'hidden'\n        },\n        modal: {\n          width: '218px',\n          height: '100%',\n          padding: '10px',\n          overflow: 'auto'\n        },\n        item: {\n          borderRadius: '5px',\n          background: '#001529',\n          marginBottom: '5px',\n          color: '#fff',\n          cursor: 'pointer'\n        }\n      },\n      controBtn: {\n        layout: {\n          padding: '10px'\n        },\n        btn: {\n          marginBottom: '20px',\n          width: '120px',\n          background: '#001529',\n          border: 'none'\n        }\n      },\n      layout: {\n        background: '#fff'\n      }\n    };\n    const indexPath = {\n      pathname: '/index'\n    };\n    const experPath = {\n      pathname: '/experdetails/' + experimentContent._id\n    };\n\n    if (redirectToIndex == true) {\n      return React.createElement(Redirect, {\n        push: true,\n        to: indexPath,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    }\n\n    if (redirectToExper == true) {\n      return React.createElement(Redirect, {\n        push: true,\n        to: experPath,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(_Layout, {\n      style: _style.layout,\n      className: \"queue-demo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(QueueAnim, {\n      className: \"demo-content\",\n      animConfig: [{\n        opacity: [1, 0],\n        translateY: [0, 100]\n      }, {\n        opacity: [1, 0],\n        translateY: [0, -100]\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(_Row, {\n      style: _style.header,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: _style.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u865A\\u62DF\\u5B9E\\u9A8C - \", experimentContent.name)), React.createElement(_Row, {\n      gutter: 16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 4,\n      className: \"demo-tbody\",\n      key: \"b\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: _style.list.hideWrap,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: _style.list.modal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(_List, {\n      size: \"small\",\n      split: false,\n      dataSource: this.state.componentData,\n      renderItem: item => React.createElement(_List.Item, {\n        onClick: this._addNode.bind(this, item),\n        style: _style.list.item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, item.name)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.scrolLoading && React.createElement(_Spin, {\n      style: _style.spin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }))))), React.createElement(_Col, {\n      span: 16,\n      className: \"demo-thead\",\n      key: \"a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(JtopoCanvas, {\n      canvasNode: this.state.jtopoNode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(_Col, {\n      span: 3,\n      style: _style.controBtn.layout,\n      className: \"demo-tbody\",\n      key: \"c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(_Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      onClick: this._showModal.bind(this),\n      style: _style.controBtn.btn,\n      type: \"primary\",\n      icon: \"question-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"\\u5B9E\\u9A8C\\u624B\\u518C\")), React.createElement(_Modal, {\n      title: \"\\u5B9E\\u9A8C\\u624B\\u518C\",\n      style: {\n        top: 20\n      },\n      width: \"870\",\n      visible: isShowModal,\n      footer: null,\n      onCancel: this._handleCancel.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.state.experimentContent.content\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }))), React.createElement(_Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      onClick: this._finishBtn.bind(this),\n      style: _style.controBtn.btn,\n      type: \"primary\",\n      icon: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"\\u63D0\\u4EA4\\u5B9E\\u9A8C\"))), React.createElement(_Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      onClick: this._exitBtn.bind(this),\n      style: _style.controBtn.btn,\n      type: \"primary\",\n      icon: \"close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"\\u9000\\u51FA\\u5B9E\\u9A8C\")))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/zhangxinyu/Desktop/ve_project/src/components/work-station.js"],"names":["React","QueueAnim","Redirect","JtopoCanvas","URL","ExperContent","Component","constructor","state","experimentContent","isShowModal","componentData","jtopoNode","scrolLoading","redirectToIndex","redirectToExper","_fetchComponent","callback","myFetchOptions","method","mode","fetch","componentList","then","res","json","console","log","_addNode","item","setState","_showModal","_exitBtn","_finishBtn","_handleCancel","componentWillMount","props","location","render","_style","spin","position","bottom","left","header","height","background","marginBottom","title","color","textAlign","marginTop","list","hideWrap","width","margin","overflow","modal","padding","borderRadius","cursor","controBtn","layout","btn","border","indexPath","pathname","experPath","_id","opacity","translateY","name","bind","top","__html","content"],"mappings":"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","sourcesContent":["import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport { Redirect } from 'react-router-dom';\nimport { Layout, Menu, Icon, Row, Col, Button, List, Spin, Avatar, Modal } from 'antd';\nimport JtopoCanvas from './jtopo-canvas';\nimport URL from '../serverAPI.config';\n\nexport default class ExperContent extends React.Component {\n  constructor() {\n\t\tsuper();\n\t\tthis.state = {\n      experimentContent: null,\n      isShowModal: false,\n      componentData: [],\n      jtopoNode: null,\n      scrolLoading: true,\n      redirectToIndex: false,\n      redirectToExper: false\n\t\t};\n  };\n\n  _fetchComponent (callback) {\n    const myFetchOptions = {\n      method: 'GET',\n      mode : 'cors',\n    };\n    fetch(URL.componentList,myFetchOptions)\n      .then(res=>res.json().then(json=>{\n        console.log(json)\n        callback(json);\n      }))\n  }\n\n  _addNode (item) {\n    this.setState({jtopoNode: item});\n  }\n\n  _showModal () {\n    this.setState({isShowModal: true});\n  }\n\n  _exitBtn () {\n    this.setState({redirectToExper: true});\n  }\n\n  _finishBtn () {\n    this.setState({redirectToIndex: true});\n  }\n\n  _handleCancel () {this.setState({ isShowModal: false })}\n\n  componentWillMount () {\n    if (this.props.location.state) {\n      this.setState({experimentContent: this.props.location.state});\n    }\n    this._fetchComponent((json) => {\n      this.setState({\n        componentData: json,\n        scrolLoading: false\n      });\n    })\n  }\n  render () {\n    const { redirectToIndex, redirectToExper, experimentContent, isShowModal } = this.state;\n    const _style = {\n      spin: {position: 'absolute',bottom: '-30px',left: '42%'},\n      header: {height: '140px',background:'#001529',marginBottom:'10px'},\n      title: {color: '#fff',textAlign: 'center',marginTop: '30px'},\n      list: {\n        hideWrap: {width: '200px',height: '480px',margin: '10px',overflow: 'hidden'},\n        modal: {width: '218px',height: '100%',padding: '10px',overflow: 'auto'},\n        item: {borderRadius: '5px',background: '#001529',marginBottom: '5px',color: '#fff',cursor: 'pointer'}\n      },\n      controBtn: {\n        layout: {padding: '10px'},\n        btn: {marginBottom: '20px',width: '120px',background:'#001529',border:'none'}\n      },\n      layout: {background: '#fff'}\n    }\n    const indexPath = {pathname:'/index'};\n    const experPath = {pathname:'/experdetails/' + experimentContent._id};\n    if (redirectToIndex == true) {\n      return <Redirect push to={indexPath} />;\n    }\n    if (redirectToExper == true) {\n      return <Redirect push to={experPath} />;\n    }\n    return(\n      <Layout style={_style.layout}  className=\"queue-demo\">\n        <QueueAnim className=\"demo-content\"\n          animConfig={[\n            { opacity: [1, 0], translateY: [0, 100] },\n            { opacity: [1, 0], translateY: [0, -100] }\n        ]}>\n          <Row style={_style.header}>\n              <h1 style={_style.title}>虚拟实验 - {experimentContent.name}</h1>\n          </Row>\n          <Row gutter={16}>\n            <Col span={4}  className=\"demo-tbody\" key=\"b\">\n              <div style={_style.list.hideWrap}>\n                <div style={_style.list.modal}>\n                      <List\n                        size=\"small\" split={false}\n                        dataSource={this.state.componentData}\n                        renderItem={item => (<List.Item onClick={this._addNode.bind(this,item)} style={_style.list.item}><div style={{width:'100%',textAlign:'center'}}>{item.name}</div></List.Item>)}\n                      >\n                        {this.state.scrolLoading && <Spin style={_style.spin}/>}\n                      </List>\n                </div>\n              </div>\n            </Col>\n            <Col span={16}  className=\"demo-thead\" key=\"a\">\n              <JtopoCanvas canvasNode={this.state.jtopoNode}/>\n            </Col>\n            <Col span={3} style={_style.controBtn.layout}  className=\"demo-tbody\" key=\"c\">\n              <Row>\n                 <Col><Button onClick={this._showModal.bind(this)} style={_style.controBtn.btn} type=\"primary\" icon=\"question-circle\">实验手册</Button></Col>\n                 <Modal\n                    title=\"实验手册\"\n                    style={{ top: 20 }}\n                    width='870'\n                    visible={isShowModal}\n                    footer={null}\n                    onCancel={this._handleCancel.bind(this)}\n                  >\n                    <div dangerouslySetInnerHTML={{__html: this.state.experimentContent.content}} />\n                  </Modal>\n              </Row>\n              <Row>\n                 <Col><Button  onClick={this._finishBtn.bind(this)} style={_style.controBtn.btn} type=\"primary\" icon=\"check\">提交实验</Button></Col>\n              </Row>\n              <Row>\n                 <Col><Button onClick={this._exitBtn.bind(this)} style={_style.controBtn.btn} type=\"primary\" icon=\"close\">退出实验</Button></Col>\n              </Row>\n            </Col>\n          </Row>\n        </QueueAnim>\n      </Layout>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}