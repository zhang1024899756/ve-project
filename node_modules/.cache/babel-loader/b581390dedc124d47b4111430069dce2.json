{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/zhangxinyu/Desktop/ve_project/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/zhangxinyu/Desktop/ve_project/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/zhangxinyu/Desktop/ve_project/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/zhangxinyu/Desktop/ve_project/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/zhangxinyu/Desktop/ve_project/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _element = require('../element');\n\nvar _element2 = _interopRequireDefault(_element);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Container =\n/*#__PURE__*/\nfunction (_element2$default) {\n  _inherits(Container, _element2$default);\n\n  function Container(name) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this));\n    _this.name = name;\n    _this.x = 0;\n    _this.y = 0;\n    _this.width = 40;\n    _this.height = 40;\n    _this.items = [];\n    _this.style = {\n      fillStyle: '193, 200, 254'\n    };\n    _this.alpha = 0.3;\n    _this.dragable = true;\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"add\",\n    value: function add(e) {\n      this.items.push(e);\n      e.parentContainer = this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(e) {\n      for (var i = 0; i < this.items.length; i++) {\n        if (this.items[i] === e) {\n          e.parentContainer = null;\n          this.items = this.items.split(i, 1);\n          e.lastParentContainer = this;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      for (var i = 0; i < this.items.length; i++) {\n        this.remove(this.items[i]);\n      }\n    }\n  }, {\n    key: \"setLocation\",\n    value: function setLocation(x, y) {\n      var dx = x - this.getX();\n      var dy = y - this.getY();\n      this.setX(x);\n      this.setY(y);\n\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        item.setLocation(item.getX() + dx, item.getY() + dy);\n      }\n    }\n  }, {\n    key: \"updateBound\",\n    value: function updateBound() {\n      var bound = {\n        x: 10000000,\n        y: 1000000,\n        width: 0,\n        height: 0\n      };\n\n      if (this.items.length > 0) {\n        var minX = 10000000;\n        var maxX = -10000000;\n        var minY = 10000000;\n        var maxY = -10000000;\n        var width = maxX - minX;\n        var height = maxY - minY;\n\n        for (var i = 0; i < this.items.length; i++) {\n          var item = this.items[i];\n\n          if (item.x <= minX) {\n            minX = item.x;\n          }\n\n          if (item.x >= maxX) {\n            maxX = item.x;\n          }\n\n          if (item.y <= minY) {\n            minY = item.y;\n          }\n\n          if (item.y >= maxY) {\n            maxY = item.y;\n          }\n\n          width = maxX - minX + item.width;\n          height = maxY - minY + item.height;\n        }\n\n        this.x = minX - 5;\n        this.y = minY - 5;\n        this.width = width + 5;\n        this.height = height + 5;\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      this.updateBound();\n      ctx.save();\n      ctx.beginPath();\n      ctx.shadowBlur = 9;\n      ctx.shadowColor = 'rgba(0,0,0,0.5)';\n      ctx.shadowOffsetX = 3;\n      ctx.shadowOffsetY = 3;\n      ctx.fillStyle = 'rgba(' + this.style.fillStyle + ',' + this.alpha + ')';\n      ctx.fillRect(this.x, this.y, this.width, this.height);\n      ctx.closePath();\n      ctx.restore();\n    }\n  }]);\n\n  return Container;\n}(_element2.default);\n\nexports.default = Container;","map":null,"metadata":{},"sourceType":"script"}