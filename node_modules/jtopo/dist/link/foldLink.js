'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _link = require('./link');

var _link2 = _interopRequireDefault(_link);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

let FoldLink = class FoldLink extends _link2.default {
	constructor(nodeA, nodeB, name) {
		super(nodeA, nodeB);
		this.fold = 'x';
	}

	draw(ctx) {
		let x1 = this.nodeA.x;
		let y1 = this.nodeA.y;
		let x2 = this.nodeB.x;
		let y2 = this.nodeB.y;
		let mx = x1;
		let my = y1;

		if (x1 == x2 || y1 == y2) {
			super.draw(ctx);
		} else {
			if (this.fold == 'x') {
				mx = x1 + (x2 - x1);
			} else {
				my = y1 + (y2 - y1);
			}
			ctx.save();
			ctx.beginPath();
			ctx.strokeStyle = 'rgba(' + this.style.strokeStyle + ',' + this.style.alpha + ')';
			ctx.lineWidth = this.style.lineWidth;
			ctx.moveTo(x1 + this.nodeA.width / 2, y1 + this.nodeA.height / 2);
			ctx.lineTo(mx + this.nodeA.width / 2, my + this.nodeA.height / 2);
			ctx.lineTo(x2 + this.nodeA.width / 2, y2 + this.nodeA.height / 2);
			ctx.stroke();
			ctx.closePath();
			ctx.restore();
		}
	}
};
exports.default = FoldLink;